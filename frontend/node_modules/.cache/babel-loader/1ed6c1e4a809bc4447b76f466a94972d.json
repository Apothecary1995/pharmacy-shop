{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apothecary\\\\Downloads\\\\edd_pharmacy_project\\\\frontend\\\\src\\\\components\\\\Admin\\\\PendingPrescriptions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport prescriptionService from '../../services/prescription.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PendingPrescriptions = ({\n  onUpdate\n}) => {\n  _s();\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const API_URL = process.env.REACT_APP_API_URL;\n  const fetchPending = async () => {\n    setLoading(true);\n    try {\n      const res = await prescriptionService.getPendingPrescriptions();\n      setPrescriptions(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchPending();\n  }, []);\n  const handleStatusUpdate = async (id, status) => {\n    try {\n      await prescriptionService.updatePrescriptionStatus(id, status);\n      fetchPending(); // Listeyi yenile\n      onUpdate(); // AdminDashboardPage'i uyar\n    } catch (err) {\n      alert(\"Failed to update status.\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading pending prescriptions\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Pending Prescriptions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prescription-list\",\n      children: prescriptions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No pending prescriptions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 39\n      }, this) : prescriptions.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prescription-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 18\n          }, this), \" \", p.id, \" | \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"User:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 48\n          }, this), \" \", p.user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `${API_URL}/${p.imageUrl.replace(/\\\\/g, '/')}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${API_URL}/${p.imageUrl.replace(/\\\\/g, '/')}`,\n            alt: \"Prescription\",\n            style: {\n              width: '100%',\n              maxWidth: '400px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleStatusUpdate(p.id, 'approved'),\n            className: \"btn btn-success\",\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleStatusUpdate(p.id, 'rejected'),\n            className: \"btn btn-danger\",\n            style: {\n              marginLeft: '10px'\n            },\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(PendingPrescriptions, \"kHLuZiwtapMZ/4UUfK97dPH4G8E=\");\n_c = PendingPrescriptions;\nexport default PendingPrescriptions;\nvar _c;\n$RefreshReg$(_c, \"PendingPrescriptions\");","map":{"version":3,"names":["React","useState","useEffect","prescriptionService","jsxDEV","_jsxDEV","PendingPrescriptions","onUpdate","_s","prescriptions","setPrescriptions","loading","setLoading","API_URL","process","env","REACT_APP_API_URL","fetchPending","res","getPendingPrescriptions","data","err","console","error","handleStatusUpdate","id","status","updatePrescriptionStatus","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","p","user","email","href","imageUrl","replace","target","rel","src","alt","style","width","maxWidth","marginTop","onClick","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/apothecary/Downloads/edd_pharmacy_project/frontend/src/components/Admin/PendingPrescriptions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport prescriptionService from '../../services/prescription.service';\r\n\r\nconst PendingPrescriptions = ({ onUpdate }) => {\r\n  const [prescriptions, setPrescriptions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const API_URL = process.env.REACT_APP_API_URL;\r\n\r\n  const fetchPending = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await prescriptionService.getPendingPrescriptions();\r\n      setPrescriptions(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    setLoading(false);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    fetchPending();\r\n  }, []);\r\n\r\n  const handleStatusUpdate = async (id, status) => {\r\n    try {\r\n      await prescriptionService.updatePrescriptionStatus(id, status);\r\n      fetchPending(); // Listeyi yenile\r\n      onUpdate(); // AdminDashboardPage'i uyar\r\n    } catch (err) {\r\n      alert(\"Failed to update status.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <p>Loading pending prescriptions</p>;\r\n\r\n  return (\r\n    <div className=\"admin-section\">\r\n      <h3>Pending Prescriptions</h3>\r\n      <div className=\"prescription-list\">\r\n        {prescriptions.length === 0 ? <p>No pending prescriptions</p> : (\r\n          prescriptions.map(p => (\r\n            <div key={p.id} className=\"prescription-item\">\r\n              <p><strong>ID:</strong> {p.id} | <strong>User:</strong> {p.user.email}</p>\r\n              <a href={`${API_URL}/${p.imageUrl.replace(/\\\\/g, '/')}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <img src={`${API_URL}/${p.imageUrl.replace(/\\\\/g, '/')}`} alt=\"Prescription\" style={{width: '100%', maxWidth: '400px'}} />\r\n              </a>\r\n              <div style={{marginTop: '10px'}}>\r\n                <button onClick={() => handleStatusUpdate(p.id, 'approved')} className=\"btn btn-success\">Approve</button>\r\n                <button onClick={() => handleStatusUpdate(p.id, 'rejected')} className=\"btn btn-danger\" style={{marginLeft: '10px'}}>Reject</button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PendingPrescriptions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}