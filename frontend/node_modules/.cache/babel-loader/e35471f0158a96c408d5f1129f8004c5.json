{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apothecary\\\\Downloads\\\\edd_pharmacy_project\\\\frontend\\\\src\\\\context\\\\CartContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext(null);\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cartItems, setCartItems] = useState(() => {\n    const localData = localStorage.getItem('cart');\n    return localData ? JSON.parse(localData) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n  }, [cartItems]);\n  const addToCart = (drug, quantity) => {\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(item => item.id === drug.id);\n      if (existingItem) {\n        return prevItems.map(item => item.id === drug.id ? {\n          ...item,\n          quantity: item.quantity + quantity\n        } : item);\n      }\n      return [...prevItems, {\n        ...drug,\n        quantity\n      }];\n    });\n  };\n  const removeFromCart = drugId => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== drugId));\n  };\n  const updateQuantity = (drugId, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(drugId);\n    } else {\n      setCartItems(prevItems => prevItems.map(item => item.id === drugId ? {\n        ...item,\n        quantity: newQuantity\n      } : item));\n    }\n  };\n  const clearCart = () => {\n    setCartItems([]);\n  };\n  const getCartTotal = () => {\n    return cartItems.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2);\n  };\n  const requiresPrescription = () => {\n    return cartItems.some(item => item.requiresPrescription);\n  };\n  const value = {\n    cartItems,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getCartTotal,\n    requiresPrescription\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 10\n  }, this);\n};\n_s(CartProvider, \"hJ41/vEl/9fK6GU58e9n89pGqgk=\");\n_c = CartProvider;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cartItems","setCartItems","localData","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","drug","quantity","prevItems","existingItem","find","item","id","map","removeFromCart","drugId","filter","updateQuantity","newQuantity","clearCart","getCartTotal","reduce","total","price","toFixed","requiresPrescription","some","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/apothecary/Downloads/edd_pharmacy_project/frontend/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\n\r\nconst CartContext = createContext(null);\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState(() => {\r\n    const localData = localStorage.getItem('cart');\r\n    return localData ? JSON.parse(localData) : [];\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cart', JSON.stringify(cartItems));\r\n  }, [cartItems]);\r\n\r\n  const addToCart = (drug, quantity) => {\r\n    setCartItems(prevItems => {\r\n      const existingItem = prevItems.find(item => item.id === drug.id);\r\n      if (existingItem) {\r\n        return prevItems.map(item =>\r\n          item.id === drug.id ? { ...item, quantity: item.quantity + quantity } : item\r\n        );\r\n      }\r\n      return [...prevItems, { ...drug, quantity }];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (drugId) => {\r\n    setCartItems(prevItems => prevItems.filter(item => item.id !== drugId));\r\n  };\r\n\r\n  const updateQuantity = (drugId, newQuantity) => {\r\n    if (newQuantity <= 0) {\r\n      removeFromCart(drugId);\r\n    } else {\r\n      setCartItems(prevItems =>\r\n        prevItems.map(item =>\r\n          item.id === drugId ? { ...item, quantity: newQuantity } : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCartItems([]);\r\n  };\r\n\r\n  const getCartTotal = () => {\r\n    return cartItems.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2);\r\n  };\r\n  \r\n  const requiresPrescription = () => {\r\n    return cartItems.some(item => item.requiresPrescription);\r\n  };\r\n\r\n  const value = {\r\n    cartItems,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n    clearCart,\r\n    getCartTotal,\r\n    requiresPrescription\r\n  };\r\n\r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n};\r\n\r\nexport default CartContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}